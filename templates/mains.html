<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudentOS</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='mains.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&family=Karla:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <div class="retro-container">
        
        <div class="retro-header-section">
            <div class="header-text">
                <h1>student_os</h1>
                <p class="subtitle">v2.1 // data_collection_module</p>
            </div>
            <div class="retro-star-badge">
                <span>OS</span>
            </div>
        </div>

        <div class="retro-card">
            <div class="card-header-pill">Identity</div>
            <div class="field">
                <label>Student Email</label>
                <input type="email" id="email" placeholder="student@university.edu">
            </div>
        </div>

        <div class="retro-card">
            <div class="card-header-pill">User Profile</div>
            
            <div class="grid-2">
                <div class="field">
                    <label>Graduation Year</label>
                    <select id="studentYear">
                        <option value="2026">2026</option>
                        <option value="2027">2027</option>
                        <option value="2028">2028</option>
                        <option value="2029">2029</option>
                    </select>
                </div>
                <div class="field">
                    <label>Timezone</label>
                    <select id="timezone">
                        <option value="America/New_York">Eastern Time (US & Canada)</option>
                        <option value="America/Chicago">Central Time (US & Canada)</option>
                        <option value="America/Denver">Mountain Time (US & Canada)</option>
                        <option value="America/Los_Angeles">Pacific Time (US & Canada)</option>
                        <option value="UTC">UTC</option>
                    </select>
                </div>
                <div class="field">
                    <label>Primary Major</label>
                    <select id="major" class="major-select"></select>
                </div>
                <div class="field">
                    <label>Second Concentration</label>
                    <select id="second_concentration" class="major-select">
                        <option value="N/A">N/A</option>
                    </select>
                </div>
                <div class="field">
                    <label>Minor</label>
                    <select id="minor" class="major-select">
                        <option value="N/A">N/A</option>
                    </select>
                </div>
            </div>

            <div class="schedule-grid" style="margin-top: 25px; padding-top: 20px; border-top: 2px dashed var(--grid-line);">
                <div class="schedule-column">
                    <div class="column-label">Weekday Work Hours</div>
                    <div class="field">
                        <label>Start</label>
                        <div class="time-picker" id="weekdayStart" data-default="09:00"></div>
                    </div>
                    <div class="field">
                        <label>End</label>
                        <div class="time-picker" id="weekdayEnd" data-default="21:00"></div>
                    </div>
                </div>

                <div class="schedule-column">
                    <div class="column-label">Weekend Work Hours</div>
                    <div class="field">
                        <label>Start</label>
                        <div class="time-picker" id="weekendStart" data-default="10:00"></div>
                    </div>
                    <div class="field">
                        <label>End</label>
                        <div class="time-picker" id="weekendEnd" data-default="20:00"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="retro-card">
            <div class="card-header-pill">Task Queue</div>
            <div id="assignmentsContainer"></div>
            <button id="addAssignmentBtn" class="btn btn-dashed">+ Add Assignment Node</button>
        </div>

        <div class="retro-card">
            <div class="card-header-pill">Data Ingestion</div>

            <div class="field">
                <label>Syllabus PDFs (AI Extraction)</label>
                <label style="display:block; margin-bottom:10px;">Syllabus PDFs (AI Extraction)</label>
                <div id="pdfContainer"></div>
                <button id="addPdfBtn" class="btn btn-dashed" style="margin-bottom: 25px;">+ Add Syllabus PDF</button>
            </div>

            <div class="field" style="margin-top: 25px; padding-top:20px; border-top: 2px dashed var(--grid-line);">
                <label>Calendar Source (.ics) (Busy Times)</label>
                <input type="file" id="icsUpload" accept=".ics" style="margin-top:5px;">
            </div>
        </div>

        <button id="submitBtn" class="btn btn-primary">Initialize Optimization</button>
        
        <div id="resultArea" class="retro-card" style="display:none; text-align:center; border-color: var(--accent-cyan);">
            <div class="card-header-pill" style="background: var(--accent-cyan); color: #fff;">Success</div>
            <h3 style="margin-top:15px;">Optimization Complete</h3>
            <p>Your schedule has been generated.</p>
            <div id="predictionList" class="prediction-container"></div>
            <a id="downloadLink" href="#" class="btn btn-primary" style="background: var(--accent-cyan); margin-top:15px; display:inline-block; text-decoration:none;">Download .ICS File</a>
        </div>

    </div>
    <script src="{{ url_for('static', filename='mains.js') }}"></script>
</body>
</html>
